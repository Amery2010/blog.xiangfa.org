"use strict";function _instanceof(left,right){if(right!=null&&typeof Symbol!=="undefined"&&right[Symbol.hasInstance]){return !!right[Symbol.hasInstance](left)}else{return left instanceof right}}function _classCallCheck(instance,Constructor){if(!_instanceof(instance,Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value" in descriptor){descriptor.writable=true}Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps){_defineProperties(Constructor.prototype,protoProps)}if(staticProps){_defineProperties(Constructor,staticProps)}return Constructor}var Snow=(function(){function Snow(){var opt=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};_classCallCheck(this,Snow);this.isRain=opt.isRain||false;this.el=null;this.dir=opt.dir||"r";this.width=0;this.maxWidth=opt.maxWidth||80;this.minWidth=opt.minWidth||2;this.opacity=0;this.x=0;this.y=0;this.z=0;this.sx=0;this.isSwing=false;this.stepSx=0.02;this.swingRadian=1;this.swingStep=0.01;this.sy=0;this.maxSpeed=opt.maxSpeed||4;this.minSpeed=opt.minSpeed||1;this.quickMaxSpeed=opt.quickMaxSpeed||10;this.quickMinSpeed=opt.quickMinSpeed||8;this.quickWidth=opt.quickWidth||80;this.quickOpacity=opt.quickOpacity||0.2;this.windowWidth=window.innerWidth;this.windowHeight=window.innerHeight;this.init()}_createClass(Snow,[{key:"init",value:function init(reset){var isQuick=Math.random()>0.8;this.isSwing=Math.random()>0.8;this.width=isQuick?this.quickWidth:Math.floor(Math.random()*this.maxWidth+this.minWidth);this.opacity=isQuick?this.quickOpacity:Math.random();this.x=Math.floor(Math.random()*(this.windowWidth-this.width));this.y=Math.floor(Math.random()*(this.windowHeight-this.width));if(reset&&Math.random()>0.8){this.x=-this.width}else{if(reset){this.y=-this.width}}this.sy=isQuick?Math.random()*this.quickMaxSpeed+this.quickMinSpeed:Math.random()*this.maxSpeed+this.minSpeed;this.sx=this.dir==="r"?this.sy:-this.sy;this.z=isQuick?Math.random()*300+200:0;this.swingStep=0.01*Math.random();this.swingRadian=Math.random()*(1.1-0.9)+0.9}},{key:"setStyle",value:function setStyle(){this.el.style.cssText="\n            position: fixed;\n            left: 0;\n            top: 0;\n            display: block;\n            width: ".concat(this.isRain?1:this.width,"px;\n            height: ").concat(this.width,"px;\n            opacity: ").concat(this.opacity,";\n            background-image: radial-gradient(#fff 0%, rgba(255, 255, 255, 0) 60%);\n            border-radius: 50%;\n            z-index: 9999;\n            pointer-events: none;\n            transform: translate(").concat(this.x,"px, ").concat(this.y,"px) ").concat(this.getRotate(this.sy,this.sx),";\n        ")}},{key:"render",value:function render(){this.el=document.createElement("div");this.setStyle();document.body.appendChild(this.el)}},{key:"move",value:function move(){if(this.isSwing){if(this.swingRadian>1.1||this.swingRadian<0.9){this.swingStep=-this.swingStep}this.swingRadian+=this.swingStep;if(this.isRain){this.x+=this.sx}else{this.x+=this.sx*Math.sin(this.swingRadian*Math.PI)}this.y-=this.sy*Math.cos(this.swingRadian*Math.PI)}else{this.x+=this.sx;this.y+=this.sy}if(this.x<-this.width||this.x>this.windowWidth||this.y>this.windowHeight){this.init(true);this.setStyle()}this.el.style.transform="translate3d(".concat(this.x,"px, ").concat(this.y,"px, ").concat(this.z,"px) ").concat(this.getRotate(this.sy,this.sx))}},{key:"getRotate",value:function getRotate(sy,sx){return this.isRain?"rotate(".concat(sx===0?0:90+Math.atan(sy/sx)*(180/Math.PI),"deg)"):""}}]);return Snow})();var Snows=(function(){function Snows(){var opt=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};_classCallCheck(this,Snows);this.num=opt.num||100;this.opt=opt;this.snowList=[];this.createSnows();this.moveSnow()}_createClass(Snows,[{key:"createSnows",value:function createSnows(){this.snowList=[];for(var i=0;i<this.num;i++){var snow=new Snow(this.opt);snow.render();this.snowList.push(snow)}}},{key:"moveSnow",value:function moveSnow(){var _this=this;window.requestAnimationFrame(function(){_this.snowList.forEach(function(item){item.move()});_this.moveSnow()})}}]);return Snows})();setTimeout(function(){new Snows({isRain:false,num:120,maxWidth:30})},1000);